# Wiki Search

![image](https://github.com/lczch/wiki-search/blob/master/resources/img/ScreenClip.png)

## 用处
  本项目搭建了一个搜索的前端, 通过输入你想要在wikipedia上查找的keyword, 它可以帮你把相关的节点图像化, 在图画上进行进一步的搜索.

## 特点
- 使用force graph的方式呈现节点, 你可以随意拖动节点, 并在节点上进行操作.

- 支持对于节点内容的简单预览.

- 会对用户的搜索进行智能的记录.

## 体验
http://195.245.239.29/index.html

## 安装
注意: 请使用branch version-1, 其他的branch不如这个稳定. 
``` sh
git clone git@github.com:lczch/wiki-search.git
cd wiki-search
npm install
```
启动:
``` sh
node main.js
```
接着在本地打开127.0.0.1:80/index.html
端口号可以自行在main.js最后一行改动. 
## 基本操作
- 鼠标可以随意拖动节点;

- 鼠标悬浮在节点上的时候, 显示简略的说明;

- 双击节点, 将以此节点为关键词, 在wiki中进行搜索;

- Ctrl + 左键单击节点, 在新窗口打开节点的wiki页面.

## 更深入的功能
我认为用户输入的第一组keyword是比后续搜索的节点更重要的.
所以, 当用户输入关键词(比如A**, 当他经过层层的点击, 找到最终想要的节点B后, 我会在将A和B之间的关系记录下来.

这样, 当下次用户又需要寻找B, 但他又想不起来B的关键词是什么的时候, 他再次输入A, B就会直接显示出来, 用醒目的红色.

这就是我对于添加的此项功能的直觉性的描述.

具体使用此项功能:

1. 当你寻找到想要的节点时, 单击屏幕左上角的蓝色方块, 则此节点被记录;

2. 但你不想要显示当前节点和之前记录的节点的关系时, 点击黑色按钮, 和此节点相关的关系将被删除.

## 主要使用的技术
1. nodejs
2. d3
3. puppetter

## TODO
### 现在访问wiki还有点慢.
__我觉得可能是因为我使用了puppetter, 通过无框的浏览器来给wikipedia发送http请求.
因为每次请求都需要创建和关闭浏览器, 所以它应该要为延迟负责.

之所以开始选用了这个库, 是因为在我本地电脑上, 除了powershell自带的功能和浏览器之外, 所有访问wikipedia的方法都失败了.
为了在本机上可以调试, 我才选用了这个库.

但开发到中间, 我就发现它可能会引发延迟上的问题, 而如果是在我的vps上搭建服务器, 那么, 这种额外的开销是完全不需要的, 只需要正常的http请求即可成功获得wikipedia的数据.
所以, 我是计划在主体完成之后, 再将puppetter的部分替换成普通的http请求, 然后部署到vps上进行调试.

但最终时间不够.__

现在我发现不是这个问题, 那有可能就是我画图的时间太长了. 

### 为蓝色和黑色按钮加上文字说明. 

